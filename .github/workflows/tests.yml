name: tests
on: [push]

jobs:
  linux:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: 'CMake'
      uses: lukka/run-cmake@v2
      with:
        cmakeListsTxtPath: '${{ github.workspace }}/CMakeLists.txt'
        cmakeBuildType: Release
        buildDirectory: "${{ github.workspace }}/../../_temp/linux"
        buildWithCMake: true

    #- name: 'Run CTest'
    #run: ctest -C Release
    #working-directory: "${{ github.workspace }}/../../_temp/linux"

  macos:
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@main
    - name: 'CMake'
      uses: lukka/run-cmake@main
      with:
        cmakeListsTxtPath: '${{ github.workspace }}/CMakeLists.txt'
        cmakeBuildType: Release
        buildDirectory: "${{ github.workspace }}/../../_temp/macos"
        buildWithCMake: true

    #- name: 'Run CTest'
    #run: ctest -C Release
    #working-directory: "${{ github.workspace }}/../../_temp/macos"

